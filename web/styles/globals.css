/* This shows the order of css rules - rules from components layer will override base*/
@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap');

/* 
TODO refactor bg-primary-40/[.08] into elevation
https://m3.material.io/styles/color/the-color-system/color-roles
*/

@layer base {
  :root {
    @apply selection:bg-light-tertiaryContainer selection:text-light-onTertiaryContainer;
  }

  body {
    @apply surface;
    font-family: 'Open Sans', sans-serif;
  }

  h1 {
    @apply text-4xl heading-primary;
  }

  h2 {
    @apply text-2xl mt-8;
  }

  .surface {
    @apply bg-light-surface text-light-onSurface dark:bg-dark-surface dark:text-dark-onSurface;
  }

  p {
    @apply my-2;
  }

  .small-container {
    @apply w-full md:w-[768px] mx-auto
  }

  /* Primary is for active states, important buttons */
  .primary {
    @apply bg-light-primary text-light-onPrimary dark:bg-dark-primary dark:text-dark-onPrimary;
  }

  /* Less emphasis */
  .primary-cont {
    @apply bg-light-primaryContainer text-light-onPrimaryContainer dark:bg-dark-primaryContainer dark:text-dark-onPrimaryContainer;
  }

  .secondary-cont {
    @apply bg-light-secondaryContainer text-light-onSecondaryContainer dark:bg-dark-secondaryContainer dark:text-dark-onSecondaryContainer;
  }

  .surface-container-low {
    @apply bg-light-surfaceContainerLow text-light-onSurface dark:bg-dark-surfaceContainerLow dark:text-dark-onSurface;
  }

  .heading-underline {
    @apply underline decoration-4 underline-offset-[5px] decoration-primary-40 dark:decoration-primary-80
  }

}

/* Extra layer to make active links style take precedence over hover */
@layer hover-priority {
  .navlink {
    @apply font-semibold duration-150 px-3 py-1.5 rounded-md hover:bg-secondary-90 hover:dark:bg-primary-20 whitespace-nowrap focus:ring focus:ring-primary-80;
  }
}

@layer components {
  .heading-primary {
    @apply text-3xl leading-relaxed heading-underline;
  }

  .card {
    @apply rounded-xl drop-shadow;
  }

  .navlink-active {
    @apply secondary-cont;
  }

  .metablock {
    @apply p-2 rounded-md drop-shadow bg-white dark:bg-white/5
  }

  .metablock-heading {
    @apply text-xl font-bold pb-3
  }
}

.footnotes {
  @apply metablock
}

.footnotes h2 {
  @apply metablock-heading
}

.footnotes ol {
  @apply list-decimal ml-8
}

.link {
  @apply underline underline-offset-2 decoration-1 hover:decoration-2 decoration-primary-40 font-bold
}

.article ul {
  @apply list-disc ml-8
}

.token-message {
  @apply text-white/50 ml-3
}

.error-token {
  @apply text-red-500
}

.warning-token {
  @apply text-yellow-500
}

.info-token {
  @apply text-blue-500
}

.two-line-text-ellipsis {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;  
  overflow: hidden;
}

/* Patch line numbering on CodeSample */
.linenumber {
  min-width: 3em;
}

.three-line-text-ellipsis {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;  
  overflow: hidden;
}
